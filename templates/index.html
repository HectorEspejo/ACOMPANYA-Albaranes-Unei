{% extends "base.html" %}

{% block title %}Inicio - Acompanya{% endblock %}

{% block content %}
<div class="welcome-section">
    <h2>Bienvenido al Sistema de Gesti√≥n de Albaranes</h2>
    <p class="lead">Sistema integral para la gesti√≥n de ingredientes, platos, men√∫s y albaranes de Acompanya.</p>
</div>

<div class="updates-section">
    <button class="updates-toggle" onclick="toggleUpdates()">
        <span class="updates-title">üîÑ √öltimas actualizaciones</span>
        <span class="updates-arrow">‚ñº</span>
    </button>
    <div class="updates-content" id="updates-content">
        <div class="updates-grid">
            <div class="update-card">
                <div class="update-header">
                    <h4>üîê Sistema de autenticaci√≥n</h4>
                    <span class="update-date">Actualizaci√≥n v1.0</span>
                </div>
                <div class="update-content">
                    <ul>
                        <li><strong>Inicio de sesi√≥n obligatorio:</strong> Acceso seguro a todas las funcionalidades</li>
                        <li><strong>Sesiones Seguras:</strong> Control de acceso</li>
                        <li><strong>M√©todos de seguridad:</strong> A√±adida seguridad reforzada en la aplicaci√≥n con encriptaci√≥n</li>
                    </ul>
                </div>
            </div>

            <div class="update-card">
                <div class="update-header">
                    <h4>üìä Cuadro de mando mejorado</h4>
                    <span class="update-date">Actualizaci√≥n v0.7</span>
                </div>
                <div class="update-content">
                    <ul>
                        <li><strong>An√°lisis avanzado:</strong> Estad√≠sticas detalladas por per√≠odo</li>
                        <li><strong>Gr√°ficos interactivos:</strong> Visualizaci√≥n de datos con gr√°ficos</li>
                        <li><strong>Exportaci√≥n mejorada:</strong> Reportes en CSV optimizados</li>
                        <li><strong>Filtros personalizables:</strong> An√°lisis por rangos de fecha</li>
                    </ul>
                </div>
            </div>

            <div class="update-card">
                <div class="update-header">
                    <h4>üîÑ Albaranes masivos</h4>
                    <span class="update-date">Actualizaci√≥n v0.5</span>
                </div>
                <div class="update-content">
                    <ul>
                        <li><strong>Generaci√≥n autom√°tica:</strong> Albaranes para m√∫ltiples clientes</li>
                        <li><strong>Duplicaci√≥n inteligente:</strong> Copia de albaranes con ajustes</li>
                        <li><strong>Validaci√≥n avanzada:</strong> Control de stock y disponibilidad</li>
                        <li><strong>Exportaci√≥n masiva:</strong> M√∫ltiples formatos de salida</li>
                    </ul>
                </div>
            </div>

            <div class="update-card">
                <div class="update-header">
                    <h4>üçΩÔ∏è Gesti√≥n de men√∫s avanzada</h4>
                    <span class="update-date">Actualizaci√≥n v0.1</span>
                </div>
                <div class="update-content">
                    <ul>
                        <li><strong>Calendario semanal:</strong> Planificaci√≥n visual de men√∫s</li>
                        <li><strong>Tipos de comida:</strong> Categorizaci√≥n completa (desayuno, almuerzo, cena, merienda)</li>
                        <li><strong>Preparaci√≥n masiva:</strong> Control de producci√≥n por lotes</li>
                        <li><strong>Importaci√≥n CSV:</strong> Carga masiva de men√∫s desde archivos</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function toggleUpdates() {
    const content = document.getElementById('updates-content');
    const arrow = document.querySelector('.updates-arrow');
    
    if (content.style.display === 'none' || content.style.display === '') {
        content.style.display = 'block';
        arrow.textContent = '‚ñ≤';
    } else {
        content.style.display = 'none';
        arrow.textContent = '‚ñº';
    }
}

// Inicializar como cerrado
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('updates-content').style.display = 'none';
});
</script>

<div class="dashboard-grid">
    <div class="dashboard-card">
        <h3>Ingredientes</h3>
        <p>Gestiona el inventario de ingredientes con control de stock, lotes y fechas de caducidad.</p>
        <a href="{{ url_for('ingredientes.listar') }}" class="btn btn-primary">Gestionar Ingredientes</a>
    </div>

    <div class="dashboard-card">
        <h3>Platos</h3>
        <p>Crea y gestiona platos con sus ingredientes, controla la producci√≥n y el stock disponible.</p>
        <a href="{{ url_for('platos.listar') }}" class="btn btn-primary">Gestionar Platos</a>
    </div>

    <div class="dashboard-card">
        <h3>Men√∫s</h3>
        <p>Organiza men√∫s semanales por tipo de comida y dieta, con control de platos incluidos.</p>
        <a href="{{ url_for('menus.listar') }}" class="btn btn-primary">Gestionar Men√∫s</a>
    </div>

    <div class="dashboard-card">
        <h3>Albaranes</h3>
        <p>Genera albaranes de entrega con trazabilidad completa de lotes y cantidades.</p>
        <a href="{{ url_for('albaranes.listar') }}" class="btn btn-primary">Gestionar Albaranes</a>
    </div>
</div>

<div class="quick-actions">
    <h3>Acciones R√°pidas</h3>
    <div class="action-buttons">
        <a href="{{ url_for('albaranes.nuevo') }}" class="btn btn-success">Nuevo Albar√°n</a>
        <a href="{{ url_for('importar.importar_platos') }}" class="btn btn-warning">Importar Platos CSV</a>
        <a href="{{ url_for('ingredientes.nuevo') }}" class="btn btn-info">Nuevo Ingrediente</a>
        <a href="{{ url_for('platos.nuevo') }}" class="btn btn-info">Nuevo Plato</a>
        <a href="{{ url_for('menus.nuevo') }}" class="btn btn-info">Nuevo Men√∫</a>
    </div>
</div>
{% endblock %}